import path from 'path';
import LWCModuleProvider from '@lwrjs/lwc-module-provider';
import { explodeSpecifier } from '@lwrjs/shared-utils';
const SFDX_SCOPE = 'c/';
const MODULE_DIR = path.join(process.cwd(), 'force-app', 'main', 'default', 'lwc');
export default class SFDXProvider extends LWCModuleProvider {
    constructor() {
        super(...arguments);
        this.name = 'sfdx-module-provider';
    }
    async getModuleEntry({ specifier }) {
        if (!specifier.startsWith(SFDX_SCOPE)) {
            return undefined;
        }
        const { name } = explodeSpecifier(specifier);
        const [component, resource] = name.split('#');
        const entry = path.join(MODULE_DIR, component, resource ?? `${component}.js`);
        return {
            id: specifier,
            specifier,
            entry,
            version: '',
            scope: process.cwd(),
        };
    }
}
//# sourceMappingURL=sfdx-module-provider.js.map