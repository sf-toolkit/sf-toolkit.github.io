/**
 * Try to add any code that is mrt specific here so that we can isolate details that would have to be refactored to run lambdas
 * on a different platform
 */
import { VERSION_NOT_PROVIDED, walkLocaleFallbacks } from '@lwrjs/shared-utils';
/**
 * Return the version for a static module bundle.
 *
 * Version defined in the metadata > Requested Version > 'version-not-provided'
 */
export function resolveStaticBundleVersion(metadataVersion, requestedVersion) {
    return metadataVersion || requestedVersion || VERSION_NOT_PROVIDED;
}
/**
 * Get the most best match for a localized bundle
 */
export async function getLocalizedBundle(specifier, siteBundles, initialLocaleId, i18n) {
    return walkLocaleFallbacks(initialLocaleId, i18n, async (localeId) => {
        const localizedSpecifier = localeId === i18n.defaultLocale ? specifier : `${specifier}|l/${localeId}`;
        return siteBundles.bundles[localizedSpecifier];
    });
}
//# sourceMappingURL=static-utils.js.map